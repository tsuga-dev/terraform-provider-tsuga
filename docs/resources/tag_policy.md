---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "tsuga_tag_policy Resource - tsuga"
subcategory: ""
description: |-
  Policy that enforces tag requirements on Tsuga assets or telemetry data
---

# tsuga_tag_policy (Resource)

Policy that enforces tag requirements on Tsuga assets or telemetry data

## Example Usage

```terraform
# Tag policy for telemetry data
resource "tsuga_tag_policy" "telemetry-policy" {
  name        = "environment-tag-policy"
  description = "Enforces environment tag on all telemetry data"
  is_active   = true
  tag_key     = "environment"
  allowed_tag_values = [
    "production",
    "staging",
    "development",
  ]
  is_required = true
  owner       = "abc-123-def"

  configuration = {
    telemetry = {
      asset_types           = ["logs", "metrics", "traces"]
      should_insert_warning = true
      drop_sample           = 25.0
    }
  }
}

# Tag policy for Tsuga assets with team scope
resource "tsuga_tag_policy" "asset-policy" {
  name        = "cost-center-tag-policy"
  description = "Enforces cost-center tag on dashboards and monitors"
  is_active   = true
  tag_key     = "cost-center"
  allowed_tag_values = [
    "engineering",
    "platform",
    "infrastructure",
  ]
  is_required = false
  owner       = "abc-123-def"

  team_scope = {
    team_ids = ["ghi-456-jkl"]
    mode     = "include"
  }

  configuration = {
    tsuga_asset = {
      asset_types = [
        "dashboard",
        "monitor",
        "notification-rule",
      ]
    }
  }
}

# Tag policy excluding specific teams
resource "tsuga_tag_policy" "exclude-policy" {
  name        = "service-tag-policy"
  description = "Enforces service tag on all teams except excluded ones"
  is_active   = true
  tag_key     = "service"
  allowed_tag_values = [
    "api",
    "web",
    "worker",
    "scheduler",
  ]
  is_required = true
  owner       = "abc-123-def"

  team_scope = {
    team_ids = ["ghi-456-jkl"]
    mode     = "exclude"
  }

  configuration = {
    tsuga_asset = {
      asset_types = [
        "ingestion-api-key",
        "operation-api-key",
        "log-route",
      ]
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `allowed_tag_values` (List of String) List of allowed values for the tag key
- `configuration` (Attributes) Configuration specifying what the policy applies to (see [below for nested schema](#nestedatt--configuration))
- `is_active` (Boolean) Whether the tag policy is active
- `is_required` (Boolean) Whether the tag is required on matching assets
- `name` (String) Display name of the tag policy
- `owner` (String) Team ID that owns and manages the policy
- `tag_key` (String) The tag key that this policy enforces

### Optional

- `description` (String) Description of the tag policy
- `team_scope` (Attributes) Team scope that narrows down the teams affected by this policy (see [below for nested schema](#nestedatt--team_scope))

### Read-Only

- `id` (String) Identifier of the tag policy

<a id="nestedatt--configuration"></a>
### Nested Schema for `configuration`

Optional:

- `telemetry` (Attributes) Configuration for telemetry data policies (see [below for nested schema](#nestedatt--configuration--telemetry))
- `tsuga_asset` (Attributes) Configuration for Tsuga asset policies (see [below for nested schema](#nestedatt--configuration--tsuga_asset))

<a id="nestedatt--configuration--telemetry"></a>
### Nested Schema for `configuration.telemetry`

Required:

- `asset_types` (List of String) Telemetry asset types: 'logs', 'metrics', 'traces'
- `should_insert_warning` (Boolean) Whether to insert a warning when the policy is violated

Optional:

- `drop_sample` (Number) Percentage of samples to drop (0-100) when the policy is violated

Read-Only:

- `type` (String)


<a id="nestedatt--configuration--tsuga_asset"></a>
### Nested Schema for `configuration.tsuga_asset`

Required:

- `asset_types` (List of String) Tsuga asset types the policy applies to

Read-Only:

- `type` (String)



<a id="nestedatt--team_scope"></a>
### Nested Schema for `team_scope`

Required:

- `mode` (String) Filter mode: 'include' to apply only to specified teams, 'exclude' to apply to all except specified teams
- `team_ids` (List of String) Team IDs to include or exclude
